version: 2

models:
  - name: stg_spi_match
    description: Brasileirão Fivethirtyeight Soccer Power Index
    columns:
      - name: id
        description: Primary key
        tests:
          - unique
          - not_null
      - name: season
        description: Season
        tests:
          - not_null
      - name: date
        description: Date
        tests:
          - not_null
      - name: league_id
        description: League ID
        tests:
          - not_null
          - accepted_values:
              values: [2105]
              quote: false
      - name: league
        description: League name
        tests:
          - not_null
          - accepted_values:
              values: [Brasileiro Série A]
      - name: home
        description: Home club
        tests:
          - not_null
      - name: away
        description: Away club
        tests:
          - not_null
      - name: spi_home
        description: Home club soccer power index
        tests:
          - not_null
      - name: spi_away
        description: Away club soccer power index
        tests:
          - not_null
      - name: prob_home
        description: Home club win probability
        tests:
          - not_null
      - name: prob_away
        description: Away club win probability
        tests:
          - not_null
      - name: prob_tie
        description: Tie probability
        tests:
          - not_null
      - name: importance_home
        description: Home club match importance
      - name: importance_away
        description: Away club match importance
      - name: proj_score_home
        description: Home club projected score
        tests:
          - not_null
      - name: proj_score_away
        description: Away club projected score
        tests:
          - not_null
      - name: score_home
        description: Home club score
      - name: score_away
        description: Away club score
      - name: adj_score_home
        description: Home club adjusted score
      - name: adj_score_away
        description: Away club adjusted score
      - name: xg_home
        description: Home club shot-based expected goals
      - name: xg_away
        description: Away club shot-based expected goals
      - name: nsxg_home
        description: Home club non-shot expected goals
      - name: nsxg_away
        description: Away club non-shot expected goals
